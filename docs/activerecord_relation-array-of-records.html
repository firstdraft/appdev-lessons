<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>B.1 ActiveRecord_Relation (array of records) | AD1</title>
  <meta name="description" content="This book covers the AD1 course at UChicago" />
  <meta name="generator" content="bookdown 0.31 and GitBook 2.6.7" />

  <meta property="og:title" content="B.1 ActiveRecord_Relation (array of records) | AD1" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This book covers the AD1 course at UChicago" />
  <meta name="github-repo" content="firstdraft/appdev-textbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="B.1 ActiveRecord_Relation (array of records) | AD1" />
  
  <meta name="twitter:description" content="This book covers the AD1 course at UChicago" />
  

<meta name="author" content="Ben + Raghu" />


<meta name="date" content="2023-02-07" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="assets/favicon.ico" type="image/x-icon" />
<link rel="prev" href="the-one-ruby-reference.html"/>
<link rel="next" href="activerecord-a-single-record.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<!-- https://stackoverflow.com/questions/62305956/fivethirtyeight-style-in-text-footnotes-for-bookdown -->
<!-- https://github.com/wjakethompson/bd-reprex/blob/master/assets/style.html -->

<style>
  input[type=checkbox][id|=fn] ~ span {display:none;}
  input[type=checkbox][id|=fn]:checked ~ span {display:block;}
  input[type=checkbox][id|=fn] {display:none;}
</style>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="assets/styling/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li>AppDev</li>
<li>Raghu + Ben</li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Welcome!</a></li>
<li class="chapter" data-level="1" data-path="intro-to-ruby.html"><a href="intro-to-ruby.html"><i class="fa fa-check"></i><b>1</b> Intro to Ruby</a>
<ul>
<li class="chapter" data-level="1.1" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html"><i class="fa fa-check"></i><b>1.1</b> Nouns, verbs, and grammar</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#you-already-know-how-to-program"><i class="fa fa-check"></i><b>1.1.1</b> You already know how to program</a></li>
<li class="chapter" data-level="1.1.2" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#rubys-vocabulary"><i class="fa fa-check"></i><b>1.1.2</b> Ruby’s vocabulary</a></li>
<li class="chapter" data-level="1.1.3" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#rubys-primary-syntax"><i class="fa fa-check"></i><b>1.1.3</b> Ruby’s primary syntax</a></li>
<li class="chapter" data-level="1.1.4" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#every-class-has-different-methods"><i class="fa fa-check"></i><b>1.1.4</b> Every class has different methods</a></li>
<li class="chapter" data-level="1.1.5" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#error-messages"><i class="fa fa-check"></i><b>1.1.5</b> Error Messages</a></li>
<li class="chapter" data-level="1.1.6" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#arguments-are-inputs"><i class="fa fa-check"></i><b>1.1.6</b> Arguments are inputs</a></li>
<li class="chapter" data-level="1.1.7" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#one-of-the-only-times-when-whitespace-matters"><i class="fa fa-check"></i><b>1.1.7</b> One of the only times when whitespace matters</a></li>
<li class="chapter" data-level="1.1.8" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#seriously-please-read-the-error-message"><i class="fa fa-check"></i><b>1.1.8</b> Seriously: please read the error message</a></li>
<li class="chapter" data-level="1.1.9" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#an-aside-code-comments"><i class="fa fa-check"></i><b>1.1.9</b> An aside: Code comments</a></li>
<li class="chapter" data-level="1.1.10" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#variables-are-boxes"><i class="fa fa-check"></i><b>1.1.10</b> Variables are boxes</a></li>
<li class="chapter" data-level="1.1.11" data-path="nouns-verbs-and-grammar.html"><a href="nouns-verbs-and-grammar.html#thats-it"><i class="fa fa-check"></i><b>1.1.11</b> That’s it</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="a-few-program-notes.html"><a href="a-few-program-notes.html"><i class="fa fa-check"></i><b>1.2</b> A few program notes</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="a-few-program-notes.html"><a href="a-few-program-notes.html#whats-our-goal"><i class="fa fa-check"></i><b>1.2.1</b> What’s our goal?</a></li>
<li class="chapter" data-level="1.2.2" data-path="a-few-program-notes.html"><a href="a-few-program-notes.html#why-ruby"><i class="fa fa-check"></i><b>1.2.2</b> Why Ruby?</a></li>
<li class="chapter" data-level="1.2.3" data-path="a-few-program-notes.html"><a href="a-few-program-notes.html#how-are-we-going-to-go-from-zero-to-heroku"><i class="fa fa-check"></i><b>1.2.3</b> How are we going to go from zero to Hero(ku)?</a></li>
<li class="chapter" data-level="1.2.4" data-path="a-few-program-notes.html"><a href="a-few-program-notes.html#onwards"><i class="fa fa-check"></i><b>1.2.4</b> Onwards</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="string.html"><a href="string.html"><i class="fa fa-check"></i><b>1.3</b> String</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="string.html"><a href="string.html#creating-strings"><i class="fa fa-check"></i><b>1.3.1</b> Creating strings</a></li>
<li class="chapter" data-level="1.3.2" data-path="string.html"><a href="string.html#methods"><i class="fa fa-check"></i><b>1.3.2</b> Methods</a></li>
<li class="chapter" data-level="1.3.3" data-path="string.html"><a href="string.html#more-on-adding-strings-together"><i class="fa fa-check"></i><b>1.3.3</b> More on adding strings together</a></li>
<li class="chapter" data-level="1.3.4" data-path="string.html"><a href="string.html#getting-strings-from-users-with-gets"><i class="fa fa-check"></i><b>1.3.4</b> Getting strings from users with gets</a></li>
<li class="chapter" data-level="1.3.5" data-path="string.html"><a href="string.html#conclusion"><i class="fa fa-check"></i><b>1.3.5</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="integer.html"><a href="integer.html"><i class="fa fa-check"></i><b>1.4</b> Integer</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="integer.html"><a href="integer.html#syntax"><i class="fa fa-check"></i><b>1.4.1</b> Syntax</a></li>
<li class="chapter" data-level="1.4.2" data-path="integer.html"><a href="integer.html#methods-1"><i class="fa fa-check"></i><b>1.4.2</b> Methods</a></li>
<li class="chapter" data-level="1.4.3" data-path="integer.html"><a href="integer.html#conclusion-1"><i class="fa fa-check"></i><b>1.4.3</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="float.html"><a href="float.html"><i class="fa fa-check"></i><b>1.5</b> Float</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="float.html"><a href="float.html#methods-2"><i class="fa fa-check"></i><b>1.5.1</b> Methods</a></li>
<li class="chapter" data-level="1.5.2" data-path="float.html"><a href="float.html#conclusion-2"><i class="fa fa-check"></i><b>1.5.2</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="date.html"><a href="date.html"><i class="fa fa-check"></i><b>1.6</b> Date</a>
<ul>
<li class="chapter" data-level="1.6.1" data-path="date.html"><a href="date.html#creating-a-date"><i class="fa fa-check"></i><b>1.6.1</b> Creating a date</a></li>
<li class="chapter" data-level="1.6.2" data-path="date.html"><a href="date.html#date-methods"><i class="fa fa-check"></i><b>1.6.2</b> Date Methods</a></li>
<li class="chapter" data-level="1.6.3" data-path="date.html"><a href="date.html#time"><i class="fa fa-check"></i><b>1.6.3</b> Time</a></li>
<li class="chapter" data-level="1.6.4" data-path="date.html"><a href="date.html#conclusion-3"><i class="fa fa-check"></i><b>1.6.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="1.7" data-path="array.html"><a href="array.html"><i class="fa fa-check"></i><b>1.7</b> Array</a>
<ul>
<li class="chapter" data-level="1.7.1" data-path="array.html"><a href="array.html#creating-arrays"><i class="fa fa-check"></i><b>1.7.1</b> Creating arrays</a></li>
<li class="chapter" data-level="1.7.2" data-path="array.html"><a href="array.html#methods-3"><i class="fa fa-check"></i><b>1.7.2</b> Methods</a></li>
<li class="chapter" data-level="1.7.3" data-path="array.html"><a href="array.html#conclusion-4"><i class="fa fa-check"></i><b>1.7.3</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="ruby-gym-part-1.html"><a href="ruby-gym-part-1.html"><i class="fa fa-check"></i><b>1.8</b> Ruby Gym Part 1</a></li>
<li class="chapter" data-level="1.9" data-path="if-statements.html"><a href="if-statements.html"><i class="fa fa-check"></i><b>1.9</b> If statements</a>
<ul>
<li class="chapter" data-level="1.9.1" data-path="if-statements.html"><a href="if-statements.html#the-basic-anatomy-of-if-statements"><i class="fa fa-check"></i><b>1.9.1</b> The basic anatomy of if statements</a></li>
<li class="chapter" data-level="1.9.2" data-path="if-statements.html"><a href="if-statements.html#multibranch-if-statements"><i class="fa fa-check"></i><b>1.9.2</b> Multibranch if statements</a></li>
<li class="chapter" data-level="1.9.3" data-path="if-statements.html"><a href="if-statements.html#truthiness-and-falsiness"><i class="fa fa-check"></i><b>1.9.3</b> truthiness and falsiness</a></li>
<li class="chapter" data-level="1.9.4" data-path="if-statements.html"><a href="if-statements.html#comparisons"><i class="fa fa-check"></i><b>1.9.4</b> Comparisons</a></li>
<li class="chapter" data-level="1.9.5" data-path="if-statements.html"><a href="if-statements.html#combining-conditions-with-and-and-or"><i class="fa fa-check"></i><b>1.9.5</b> Combining conditions with AND and OR</a></li>
<li class="chapter" data-level="1.9.6" data-path="if-statements.html"><a href="if-statements.html#conclusion-5"><i class="fa fa-check"></i><b>1.9.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="1.10" data-path="ruby-gym-part-2.html"><a href="ruby-gym-part-2.html"><i class="fa fa-check"></i><b>1.10</b> Ruby Gym Part 2</a></li>
<li class="chapter" data-level="1.11" data-path="loops-chapter.html"><a href="loops-chapter.html"><i class="fa fa-check"></i><b>1.11</b> Loops</a>
<ul>
<li class="chapter" data-level="1.11.1" data-path="loops-chapter.html"><a href="loops-chapter.html#if-conditionally-doing-something-once"><i class="fa fa-check"></i><b>1.11.1</b> if: conditionally doing something once</a></li>
<li class="chapter" data-level="1.11.2" data-path="loops-chapter.html"><a href="loops-chapter.html#while-conditionally-doing-something-multiple-times"><i class="fa fa-check"></i><b>1.11.2</b> while: conditionally doing something multiple times</a></li>
<li class="chapter" data-level="1.11.3" data-path="loops-chapter.html"><a href="loops-chapter.html#blocks"><i class="fa fa-check"></i><b>1.11.3</b> Blocks</a></li>
<li class="chapter" data-level="1.11.4" data-path="loops-chapter.html"><a href="loops-chapter.html#conclusion-6"><i class="fa fa-check"></i><b>1.11.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="1.12" data-path="each.html"><a href="each.html"><i class="fa fa-check"></i><b>1.12</b> Each</a>
<ul>
<li class="chapter" data-level="1.12.1" data-path="each.html"><a href="each.html#iterating-over-arrays-with-integers-times-method"><i class="fa fa-check"></i><b>1.12.1</b> Iterating over arrays with Integer’s times method</a></li>
<li class="chapter" data-level="1.12.2" data-path="each.html"><a href="each.html#arrays-each-method"><i class="fa fa-check"></i><b>1.12.2</b> Array’s each method</a></li>
<li class="chapter" data-level="1.12.3" data-path="each.html"><a href="each.html#sneak-peek"><i class="fa fa-check"></i><b>1.12.3</b> Sneak peek</a></li>
<li class="chapter" data-level="1.12.4" data-path="each.html"><a href="each.html#conclusion-7"><i class="fa fa-check"></i><b>1.12.4</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="1.13" data-path="ruby-gym-part-3.html"><a href="ruby-gym-part-3.html"><i class="fa fa-check"></i><b>1.13</b> Ruby Gym Part 3</a></li>
<li class="chapter" data-level="1.14" data-path="hash-chapter.html"><a href="hash-chapter.html"><i class="fa fa-check"></i><b>1.14</b> Hash</a>
<ul>
<li class="chapter" data-level="1.14.1" data-path="hash-chapter.html"><a href="hash-chapter.html#a-brief-interlude-symbols"><i class="fa fa-check"></i><b>1.14.1</b> A brief interlude: Symbols</a></li>
<li class="chapter" data-level="1.14.2" data-path="hash-chapter.html"><a href="hash-chapter.html#creating-hashes-and-storing-values"><i class="fa fa-check"></i><b>1.14.2</b> Creating hashes and storing values</a></li>
<li class="chapter" data-level="1.14.3" data-path="hash-chapter.html"><a href="hash-chapter.html#fetch"><i class="fa fa-check"></i><b>1.14.3</b> fetch</a></li>
<li class="chapter" data-level="1.14.4" data-path="hash-chapter.html"><a href="hash-chapter.html#hash-literals"><i class="fa fa-check"></i><b>1.14.4</b> Hash literals</a></li>
<li class="chapter" data-level="1.14.5" data-path="hash-chapter.html"><a href="hash-chapter.html#fetch-shorthand"><i class="fa fa-check"></i><b>1.14.5</b> fetch shorthand, []</a></li>
<li class="chapter" data-level="1.14.6" data-path="hash-chapter.html"><a href="hash-chapter.html#store-shorthand"><i class="fa fa-check"></i><b>1.14.6</b> store shorthand, []=</a></li>
<li class="chapter" data-level="1.14.7" data-path="hash-chapter.html"><a href="hash-chapter.html#use-.keys-to-explore"><i class="fa fa-check"></i><b>1.14.7</b> Use .keys to explore</a></li>
<li class="chapter" data-level="1.14.8" data-path="hash-chapter.html"><a href="hash-chapter.html#keys-can-be-anything"><i class="fa fa-check"></i><b>1.14.8</b> keys can be anything</a></li>
<li class="chapter" data-level="1.14.9" data-path="hash-chapter.html"><a href="hash-chapter.html#values-can-be-anything"><i class="fa fa-check"></i><b>1.14.9</b> values can be anything</a></li>
<li class="chapter" data-level="1.14.10" data-path="hash-chapter.html"><a href="hash-chapter.html#key"><i class="fa fa-check"></i><b>1.14.10</b> key</a></li>
<li class="chapter" data-level="1.14.11" data-path="hash-chapter.html"><a href="hash-chapter.html#conclusion-8"><i class="fa fa-check"></i><b>1.14.11</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="1.15" data-path="ruby-gym-part-4.html"><a href="ruby-gym-part-4.html"><i class="fa fa-check"></i><b>1.15</b> Ruby Gym Part 4</a></li>
<li class="chapter" data-level="1.16" data-path="our-own-classes.html"><a href="our-own-classes.html"><i class="fa fa-check"></i><b>1.16</b> Our own classes</a>
<ul>
<li class="chapter" data-level="1.16.1" data-path="our-own-classes.html"><a href="our-own-classes.html#modeling-real-world-things"><i class="fa fa-check"></i><b>1.16.1</b> Modeling real world things</a></li>
<li class="chapter" data-level="1.16.2" data-path="our-own-classes.html"><a href="our-own-classes.html#inheritance"><i class="fa fa-check"></i><b>1.16.2</b> Inheritance</a></li>
</ul></li>
<li class="chapter" data-level="1.17" data-path="ruby-conclusions.html"><a href="ruby-conclusions.html"><i class="fa fa-check"></i><b>1.17</b> Ruby Conclusions</a>
<ul>
<li class="chapter" data-level="1.17.1" data-path="ruby-conclusions.html"><a href="ruby-conclusions.html#our-technical-reference-vs.-google-fu"><i class="fa fa-check"></i><b>1.17.1</b> Our Technical Reference vs. Google-Fu</a></li>
</ul></li>
</ul></li>
<li class="appendix"><span><b>Glossaries</b></span></li>
<li class="chapter" data-level="A" data-path="terminology-technical-reference.html"><a href="terminology-technical-reference.html"><i class="fa fa-check"></i><b>A</b> Terminology Technical Reference</a></li>
<li class="chapter" data-level="B" data-path="the-one-ruby-reference.html"><a href="the-one-ruby-reference.html"><i class="fa fa-check"></i><b>B</b> The One Ruby Reference</a>
<ul>
<li class="chapter" data-level="B.1" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html"><i class="fa fa-check"></i><b>B.1</b> ActiveRecord_Relation (array of records)</a>
<ul>
<li class="chapter" data-level="B.1.1" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#all-array-methods"><i class="fa fa-check"></i><b>B.1.1</b> All Array methods</a></li>
<li class="chapter" data-level="B.1.2" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#where"><i class="fa fa-check"></i><b>B.1.2</b> .where</a></li>
<li class="chapter" data-level="B.1.3" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#where.not"><i class="fa fa-check"></i><b>B.1.3</b> where.not</a></li>
<li class="chapter" data-level="B.1.4" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#or"><i class="fa fa-check"></i><b>B.1.4</b> .or</a></li>
<li class="chapter" data-level="B.1.5" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#order"><i class="fa fa-check"></i><b>B.1.5</b> .order</a></li>
<li class="chapter" data-level="B.1.6" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#limit"><i class="fa fa-check"></i><b>B.1.6</b> .limit</a></li>
<li class="chapter" data-level="B.1.7" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#offset"><i class="fa fa-check"></i><b>B.1.7</b> .offset</a></li>
<li class="chapter" data-level="B.1.8" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#map_relation_to_array"><i class="fa fa-check"></i><b>B.1.8</b> .map_relation_to_array</a></li>
<li class="chapter" data-level="B.1.9" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#maximum"><i class="fa fa-check"></i><b>B.1.9</b> .maximum</a></li>
<li class="chapter" data-level="B.1.10" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#minimum"><i class="fa fa-check"></i><b>B.1.10</b> .minimum</a></li>
<li class="chapter" data-level="B.1.11" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#sum-1"><i class="fa fa-check"></i><b>B.1.11</b> .sum</a></li>
<li class="chapter" data-level="B.1.12" data-path="activerecord_relation-array-of-records.html"><a href="activerecord_relation-array-of-records.html#average"><i class="fa fa-check"></i><b>B.1.12</b> .average</a></li>
</ul></li>
<li class="chapter" data-level="B.2" data-path="activerecord-a-single-record.html"><a href="activerecord-a-single-record.html"><i class="fa fa-check"></i><b>B.2</b> <code>ActiveRecord</code> (A single record)</a>
<ul>
<li class="chapter" data-level="B.2.1" data-path="activerecord-a-single-record.html"><a href="activerecord-a-single-record.html#all-column-names"><i class="fa fa-check"></i><b>B.2.1</b> All column names</a></li>
<li class="chapter" data-level="B.2.2" data-path="activerecord-a-single-record.html"><a href="activerecord-a-single-record.html#any-other-instance-methods-you-define-in-the-class"><i class="fa fa-check"></i><b>B.2.2</b> Any other instance methods you define in the class</a></li>
</ul></li>
<li class="chapter" data-level="B.3" data-path="association-helper-methods.html"><a href="association-helper-methods.html"><i class="fa fa-check"></i><b>B.3</b> Association Helper Methods</a>
<ul>
<li class="chapter" data-level="B.3.1" data-path="association-helper-methods.html"><a href="association-helper-methods.html#belongs_to"><i class="fa fa-check"></i><b>B.3.1</b> belongs_to</a></li>
<li class="chapter" data-level="B.3.2" data-path="association-helper-methods.html"><a href="association-helper-methods.html#has_many"><i class="fa fa-check"></i><b>B.3.2</b> has_many</a></li>
<li class="chapter" data-level="B.3.3" data-path="association-helper-methods.html"><a href="association-helper-methods.html#has_manythrough"><i class="fa fa-check"></i><b>B.3.3</b> has_many/through</a></li>
</ul></li>
<li class="chapter" data-level="B.4" data-path="string-1.html"><a href="string-1.html"><i class="fa fa-check"></i><b>B.4</b> String</a>
<ul>
<li class="chapter" data-level="B.4.1" data-path="string-1.html"><a href="string-1.html#concat-."><i class="fa fa-check"></i><b>B.4.1</b> .concat (.+)</a></li>
<li class="chapter" data-level="B.4.2" data-path="string-1.html"><a href="string-1.html#method"><i class="fa fa-check"></i><b>B.4.2</b> * method</a></li>
<li class="chapter" data-level="B.4.3" data-path="string-1.html"><a href="string-1.html#upcase-1"><i class="fa fa-check"></i><b>B.4.3</b> .upcase</a></li>
<li class="chapter" data-level="B.4.4" data-path="string-1.html"><a href="string-1.html#downcase-1"><i class="fa fa-check"></i><b>B.4.4</b> .downcase</a></li>
<li class="chapter" data-level="B.4.5" data-path="string-1.html"><a href="string-1.html#swapcase-1"><i class="fa fa-check"></i><b>B.4.5</b> .swapcase</a></li>
<li class="chapter" data-level="B.4.6" data-path="string-1.html"><a href="string-1.html#reverse-string"><i class="fa fa-check"></i><b>B.4.6</b> .reverse (String)</a></li>
<li class="chapter" data-level="B.4.7" data-path="string-1.html"><a href="string-1.html#length-1"><i class="fa fa-check"></i><b>B.4.7</b> .length</a></li>
<li class="chapter" data-level="B.4.8" data-path="string-1.html"><a href="string-1.html#chomp-1"><i class="fa fa-check"></i><b>B.4.8</b> .chomp</a></li>
<li class="chapter" data-level="B.4.9" data-path="string-1.html"><a href="string-1.html#gsub-1"><i class="fa fa-check"></i><b>B.4.9</b> .gsub</a></li>
<li class="chapter" data-level="B.4.10" data-path="string-1.html"><a href="string-1.html#to_i-string"><i class="fa fa-check"></i><b>B.4.10</b> .to_i (String)</a></li>
<li class="chapter" data-level="B.4.11" data-path="string-1.html"><a href="string-1.html#strip-1"><i class="fa fa-check"></i><b>B.4.11</b> .strip</a></li>
<li class="chapter" data-level="B.4.12" data-path="string-1.html"><a href="string-1.html#capitalize-1"><i class="fa fa-check"></i><b>B.4.12</b> .capitalize</a></li>
<li class="chapter" data-level="B.4.13" data-path="string-1.html"><a href="string-1.html#split"><i class="fa fa-check"></i><b>B.4.13</b> .split</a></li>
<li class="chapter" data-level="B.4.14" data-path="string-1.html"><a href="string-1.html#include-2"><i class="fa fa-check"></i><b>B.4.14</b> .include?</a></li>
</ul></li>
<li class="chapter" data-level="B.5" data-path="integer-1.html"><a href="integer-1.html"><i class="fa fa-check"></i><b>B.5</b> Integer</a>
<ul>
<li class="chapter" data-level="B.5.1" data-path="integer-1.html"><a href="integer-1.html#math-operations-for-the-integer-class"><i class="fa fa-check"></i><b>B.5.1</b> Math Operations for the Integer Class</a></li>
<li class="chapter" data-level="B.5.2" data-path="integer-1.html"><a href="integer-1.html#modulus-operator"><i class="fa fa-check"></i><b>B.5.2</b> <code>%</code> (modulus) operator</a></li>
<li class="chapter" data-level="B.5.3" data-path="integer-1.html"><a href="integer-1.html#operator-integer"><i class="fa fa-check"></i><b>B.5.3</b> <code>**</code> operator Integer</a></li>
<li class="chapter" data-level="B.5.4" data-path="integer-1.html"><a href="integer-1.html#odd-and-.even-method"><i class="fa fa-check"></i><b>B.5.4</b> .odd? and .even? method</a></li>
<li class="chapter" data-level="B.5.5" data-path="integer-1.html"><a href="integer-1.html#rand-2"><i class="fa fa-check"></i><b>B.5.5</b> rand</a></li>
<li class="chapter" data-level="B.5.6" data-path="integer-1.html"><a href="integer-1.html#to_s-1"><i class="fa fa-check"></i><b>B.5.6</b> .to_s</a></li>
<li class="chapter" data-level="B.5.7" data-path="integer-1.html"><a href="integer-1.html#to_f-1"><i class="fa fa-check"></i><b>B.5.7</b> .to_f</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="float-1.html"><a href="float-1.html"><i class="fa fa-check"></i><b>B.6</b> Float</a>
<ul>
<li class="chapter" data-level="B.6.1" data-path="float-1.html"><a href="float-1.html#math-operations-for-the-float-class"><i class="fa fa-check"></i><b>B.6.1</b> Math Operations for the Float Class</a></li>
<li class="chapter" data-level="B.6.2" data-path="float-1.html"><a href="float-1.html#float-operator"><i class="fa fa-check"></i><b>B.6.2</b> <code>**</code> Float operator</a></li>
<li class="chapter" data-level="B.6.3" data-path="float-1.html"><a href="float-1.html#round-1"><i class="fa fa-check"></i><b>B.6.3</b> .round</a></li>
<li class="chapter" data-level="B.6.4" data-path="float-1.html"><a href="float-1.html#to_i-float"><i class="fa fa-check"></i><b>B.6.4</b> .to_i (Float)</a></li>
</ul></li>
<li class="chapter" data-level="B.7" data-path="date-1.html"><a href="date-1.html"><i class="fa fa-check"></i><b>B.7</b> Date</a>
<ul>
<li class="chapter" data-level="B.7.1" data-path="date-1.html"><a href="date-1.html#creating-a-date-1"><i class="fa fa-check"></i><b>B.7.1</b> Creating a Date</a></li>
<li class="chapter" data-level="B.7.2" data-path="date-1.html"><a href="date-1.html#date.new-1"><i class="fa fa-check"></i><b>B.7.2</b> Date.new</a></li>
<li class="chapter" data-level="B.7.3" data-path="date-1.html"><a href="date-1.html#date.today-1"><i class="fa fa-check"></i><b>B.7.3</b> Date.today</a></li>
<li class="chapter" data-level="B.7.4" data-path="date-1.html"><a href="date-1.html#date.parse-1"><i class="fa fa-check"></i><b>B.7.4</b> Date.parse()</a></li>
<li class="chapter" data-level="B.7.5" data-path="date-1.html"><a href="date-1.html#subtraction-1"><i class="fa fa-check"></i><b>B.7.5</b> Subtraction</a></li>
<li class="chapter" data-level="B.7.6" data-path="date-1.html"><a href="date-1.html#date.mday"><i class="fa fa-check"></i><b>B.7.6</b> Date.mday</a></li>
<li class="chapter" data-level="B.7.7" data-path="date-1.html"><a href="date-1.html#date.wday"><i class="fa fa-check"></i><b>B.7.7</b> Date.wday</a></li>
<li class="chapter" data-level="B.7.8" data-path="date-1.html"><a href="date-1.html#days-of-the-week"><i class="fa fa-check"></i><b>B.7.8</b> Days of the Week</a></li>
</ul></li>
<li class="chapter" data-level="B.8" data-path="array-1.html"><a href="array-1.html"><i class="fa fa-check"></i><b>B.8</b> Array</a>
<ul>
<li class="chapter" data-level="B.8.1" data-path="array-1.html"><a href="array-1.html#creating-an-array"><i class="fa fa-check"></i><b>B.8.1</b> Creating an Array</a></li>
<li class="chapter" data-level="B.8.2" data-path="array-1.html"><a href="array-1.html#push-1"><i class="fa fa-check"></i><b>B.8.2</b> .push</a></li>
<li class="chapter" data-level="B.8.3" data-path="array-1.html"><a href="array-1.html#at"><i class="fa fa-check"></i><b>B.8.3</b> .at()</a></li>
<li class="chapter" data-level="B.8.4" data-path="array-1.html"><a href="array-1.html#first-and-.last"><i class="fa fa-check"></i><b>B.8.4</b> .first and .last</a></li>
<li class="chapter" data-level="B.8.5" data-path="array-1.html"><a href="array-1.html#index-1"><i class="fa fa-check"></i><b>B.8.5</b> .index</a></li>
<li class="chapter" data-level="B.8.6" data-path="array-1.html"><a href="array-1.html#count-1"><i class="fa fa-check"></i><b>B.8.6</b> .count</a></li>
<li class="chapter" data-level="B.8.7" data-path="array-1.html"><a href="array-1.html#reverse-array"><i class="fa fa-check"></i><b>B.8.7</b> .reverse (Array)</a></li>
<li class="chapter" data-level="B.8.8" data-path="array-1.html"><a href="array-1.html#sort-1"><i class="fa fa-check"></i><b>B.8.8</b> .sort</a></li>
<li class="chapter" data-level="B.8.9" data-path="array-1.html"><a href="array-1.html#shuffle-1"><i class="fa fa-check"></i><b>B.8.9</b> .shuffle</a></li>
<li class="chapter" data-level="B.8.10" data-path="array-1.html"><a href="array-1.html#sample-1"><i class="fa fa-check"></i><b>B.8.10</b> .sample</a></li>
<li class="chapter" data-level="B.8.11" data-path="array-1.html"><a href="array-1.html#min-and-.max"><i class="fa fa-check"></i><b>B.8.11</b> .min and .max</a></li>
<li class="chapter" data-level="B.8.12" data-path="array-1.html"><a href="array-1.html#sum-array"><i class="fa fa-check"></i><b>B.8.12</b> .sum (Array)</a></li>
</ul></li>
<li class="chapter" data-level="B.9" data-path="hash.html"><a href="hash.html"><i class="fa fa-check"></i><b>B.9</b> Hash</a>
<ul>
<li class="chapter" data-level="B.9.1" data-path="hash.html"><a href="hash.html#interlude-symbol"><i class="fa fa-check"></i><b>B.9.1</b> Interlude: Symbol</a></li>
<li class="chapter" data-level="B.9.2" data-path="hash.html"><a href="hash.html#creating-a-hash"><i class="fa fa-check"></i><b>B.9.2</b> Creating a Hash</a></li>
<li class="chapter" data-level="B.9.3" data-path="hash.html"><a href="hash.html#store"><i class="fa fa-check"></i><b>B.9.3</b> .store</a></li>
<li class="chapter" data-level="B.9.4" data-path="hash.html"><a href="hash.html#fetch-1"><i class="fa fa-check"></i><b>B.9.4</b> .fetch</a></li>
</ul></li>
<li class="chapter" data-level="B.10" data-path="conditionals.html"><a href="conditionals.html"><i class="fa fa-check"></i><b>B.10</b> Conditionals</a></li>
<li class="chapter" data-level="B.11" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>B.11</b> Loops</a></li>
<li class="chapter" data-level="B.12" data-path="blocks-1.html"><a href="blocks-1.html"><i class="fa fa-check"></i><b>B.12</b> Blocks</a>
<ul>
<li class="chapter" data-level="B.12.1" data-path="blocks-1.html"><a href="blocks-1.html#times"><i class="fa fa-check"></i><b>B.12.1</b> .times</a></li>
<li class="chapter" data-level="B.12.2" data-path="blocks-1.html"><a href="blocks-1.html#upto"><i class="fa fa-check"></i><b>B.12.2</b> .upto</a></li>
<li class="chapter" data-level="B.12.3" data-path="blocks-1.html"><a href="blocks-1.html#downto"><i class="fa fa-check"></i><b>B.12.3</b> .downto</a></li>
<li class="chapter" data-level="B.12.4" data-path="blocks-1.html"><a href="blocks-1.html#step"><i class="fa fa-check"></i><b>B.12.4</b> .step</a></li>
</ul></li>
<li class="chapter" data-level="B.13" data-path="looping-through-arrays.html"><a href="looping-through-arrays.html"><i class="fa fa-check"></i><b>B.13</b> Looping through Arrays</a>
<ul>
<li class="chapter" data-level="B.13.1" data-path="looping-through-arrays.html"><a href="looping-through-arrays.html#each-1"><i class="fa fa-check"></i><b>B.13.1</b> .each</a></li>
<li class="chapter" data-level="B.13.2" data-path="looping-through-arrays.html"><a href="looping-through-arrays.html#each_with_index"><i class="fa fa-check"></i><b>B.13.2</b> .each_with_index</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="C" data-path="different-ruby-styles.html"><a href="different-ruby-styles.html"><i class="fa fa-check"></i><b>C</b> Different Ruby Styles</a>
<ul>
<li class="chapter" data-level="C.1" data-path="no-parentheses-around-arguments.html"><a href="no-parentheses-around-arguments.html"><i class="fa fa-check"></i><b>C.1</b> No parentheses around arguments</a></li>
<li class="chapter" data-level="C.2" data-path="curly-braces-around-hash-arguments.html"><a href="curly-braces-around-hash-arguments.html"><i class="fa fa-check"></i><b>C.2</b> Curly braces around hash arguments</a></li>
<li class="chapter" data-level="C.3" data-path="new-hash-syntax.html"><a href="new-hash-syntax.html"><i class="fa fa-check"></i><b>C.3</b> New Hash Syntax</a></li>
<li class="chapter" data-level="C.4" data-path="putting-it-all-together.html"><a href="putting-it-all-together.html"><i class="fa fa-check"></i><b>C.4</b> Putting it all together</a></li>
<li class="chapter" data-level="C.5" data-path="single-line-blocks.html"><a href="single-line-blocks.html"><i class="fa fa-check"></i><b>C.5</b> Single line blocks</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="_blank">
Proudly published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">AD1</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="activerecord_relation-array-of-records" class="section level2 hasAnchor" number="3.1">
<h2><span class="header-section-number">B.1</span> ActiveRecord_Relation (array of records)<a href="activerecord_relation-array-of-records.html#activerecord_relation-array-of-records" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div id="all-array-methods" class="section level3 hasAnchor" number="3.1.1">
<h3><span class="header-section-number">B.1.1</span> All Array methods<a href="activerecord_relation-array-of-records.html#all-array-methods" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation</code>s <a href="https://chapters.firstdraft.com/chapters/769#inheritance">inherit</a> from <code>Array</code>, so all <code>Array</code> methods work:</p>
<ul>
<li><a href="looping-through-arrays.html#looping-through-arrays"><code>.each</code></a></li>
<li><a href="array-1.html#at"><code>.at()</code> (and its aliases <code>[]</code>, <code>.first</code> for <code>.at(0)</code>, <code>.last</code> for <code>.at(-1)</code>)</a></li>
<li><a href="array.html#count"><code>.count</code></a></li>
<li><a href="#reverse-Array"><code>.reverse</code></a></li>
<li><a href="array.html#sample"><code>.sample</code></a></li>
<li><a href="array.html#shuffle"><code>.shuffle</code></a></li>
</ul>
</div>
<div id="where" class="section level3 hasAnchor" number="3.1.2">
<h3><span class="header-section-number">B.1.2</span> .where<a href="activerecord_relation-array-of-records.html#where" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>ActiveRecord_Relation#where(Hash) ⇒ ActiveRecord_Relation</p>
<p>Call <code>.where</code> on an <code>ActiveRecord_Relation</code> to filter the array of records based on some criteria.</p>
<p><code>where</code> returns an <a href="activerecord_relation-array-of-records.html#activerecord_relation-array-of-records"><code>ActiveRecord_Relation</code></a> based on the given <code>Hash</code>.</p>
<ul>
<li><p><code>.where</code> returns an <code>ActiveRecord_Relation</code> <strong>regardless of how many results there are</strong>. In particular, even if there is only one result, <em>the return value will still be another <code>ActiveRecord_Relation</code></em>.</p></li>
<li><p>The argument to <code>.where</code> is usually a <code>Hash</code>:</p>
<ul>
<li><p>Filtering by an exact match within a column:</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb178-1"><a href="activerecord_relation-array-of-records.html#cb178-1" aria-hidden="true"></a>{ <span class="st">:id</span> =&gt; <span class="dv">42</span> }</span></code></pre></div></li>
<li><p>Filter by multiple columns at once:</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb179-1"><a href="activerecord_relation-array-of-records.html#cb179-1" aria-hidden="true"></a>{ <span class="st">:photo_id</span> =&gt; <span class="dv">23</span>, <span class="st">:user_id</span> =&gt; <span class="dv">42</span> }</span></code></pre></div></li>
<li><p>Filter using an <code>Array</code> (results will match <em>any</em> of the values in the <code>Array</code>):</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb180-1"><a href="activerecord_relation-array-of-records.html#cb180-1" aria-hidden="true"></a>{ <span class="st">:owner_id</span> =&gt; [<span class="dv">4</span>, <span class="dv">8</span>, <span class="dv">15</span> ] }</span></code></pre></div></li>
<li><p>Filtering within a range of values:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb181-1"><a href="activerecord_relation-array-of-records.html#cb181-1" aria-hidden="true"></a>{ <span class="st">:dob</span> =&gt; (<span class="dv">1</span>.year.ago..<span class="dt">Date</span>.today) }</span></code></pre></div>
<div class="sourceCode" id="cb182"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb182-1"><a href="activerecord_relation-array-of-records.html#cb182-1" aria-hidden="true"></a>{ <span class="st">:last_name</span> =&gt; (<span class="st">&quot;A&quot;</span>..<span class="st">&quot;C&quot;</span>) }</span></code></pre></div></li>
<li><p>If you <em>really</em> want to, you can omit the curly brackets around the <code>Hash</code> for brevity, and Ruby will figure out what you mean. So, ultimately, you can write something like this:</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb183-1"><a href="activerecord_relation-array-of-records.html#cb183-1" aria-hidden="true"></a><span class="dt">Contact</span>.where(<span class="st">:last_name</span> =&gt; (<span class="st">&quot;A&quot;</span>..<span class="st">&quot;C&quot;</span>))</span></code></pre></div>
<p>instead of this:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb184-1"><a href="activerecord_relation-array-of-records.html#cb184-1" aria-hidden="true"></a><span class="dt">Contact</span>.where({ <span class="st">:last_name</span> =&gt; (<span class="st">&quot;A&quot;</span>..<span class="st">&quot;C&quot;</span>) })</span></code></pre></div></li>
</ul></li>
</ul>
<p>Related Methods: <code>.where.not</code>, <code>.or</code>, <code>.limit</code>, <code>.order</code></p>
<p><a href="https://chapters.firstdraft.com/chapters/770#where">Full explanation</a></p>
</div>
<div id="where.not" class="section level3 hasAnchor" number="3.1.3">
<h3><span class="header-section-number">B.1.3</span> where.not<a href="activerecord_relation-array-of-records.html#where.not" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation#where.not(Hash) ⇒ ActiveRecord_Relation</code></p>
<p>Call <code>.where.not</code> on an <code>ActiveRecord_Relation</code> to filter the array of records to <em>exclude</em> records based on the given <code>Hash</code>. <code>.where.not</code> will return an <code>ActiveRecord_Relation</code>.</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb185-1"><a href="activerecord_relation-array-of-records.html#cb185-1" aria-hidden="true"></a><span class="dt">Contact</span>.where({ <span class="st">:last_name</span> =&gt; <span class="st">&quot;Mouse&quot;</span> }).where.not({ <span class="st">:first_name</span> =&gt; <span class="st">&quot;Mickey&quot;</span> })</span></code></pre></div>
<ul>
<li>Returns an <a href="activerecord_relation-array-of-records.html#activerecord_relation-array-of-records"><code>ActiveRecord_Relation</code></a>.</li>
<li>The acceptable arguments to <code>.not</code> are the same as to <code>.where</code>; see that method for a list.</li>
</ul>
<p>Related methods: <code>.where</code>, <code>.order</code>, <code>.limit</code></p>
<p><a href="https://chapters.firstdraft.com/chapters/770#wherenotthis">Full explanation</a></p>
</div>
<div id="or" class="section level3 hasAnchor" number="3.1.4">
<h3><span class="header-section-number">B.1.4</span> .or<a href="activerecord_relation-array-of-records.html#or" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation#or(ActiveRecord_Relation) ⇒ ActiveRecord_Relation</code></p>
<p>Call <code>.or</code> on an <code>ActiveRecord_Relation</code> to <em>combine</em> the array of records with another array of records:</p>
<ul>
<li>Returns an <a href="activerecord_relation-array-of-records.html#activerecord_relation-array-of-records"><code>ActiveRecord_Relation</code></a>.</li>
<li>The argument to <code>.or</code> must be another <code>ActiveRecord_Relation</code> <em>from the <strong>same</strong> table</em>.</li>
<li><em>Broadens</em> the result set.</li>
</ul>
<div class="sourceCode" id="cb186"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb186-1"><a href="activerecord_relation-array-of-records.html#cb186-1" aria-hidden="true"></a><span class="dt">Contact</span>.where({ <span class="st">:first_name</span> =&gt; <span class="st">&quot;Mickey&quot;</span> }).or(<span class="dt">Contact</span>.where({ <span class="st">:last_name</span> =&gt; <span class="st">&quot;Betina&quot;</span> }))</span></code></pre></div>
<p><a href="https://chapters.firstdraft.com/chapters/770#wherethisorthat">Full explanation</a></p>
</div>
<div id="order" class="section level3 hasAnchor" number="3.1.5">
<h3><span class="header-section-number">B.1.5</span> .order<a href="activerecord_relation-array-of-records.html#order" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation#order(Hash) ⇒ ActiveRecord_Relation</code></p>
<p>or</p>
<p><code>ActiveRecord_Relation.order(Symbol) ⇒ ActiveRecord_Relation</code></p>
<p>Call <code>.order</code> on an <code>ActiveRecord_Relation</code> to sort the array based on one or more columns. This method returns an <code>ActiveRecord_Relation</code>.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb187-1"><a href="activerecord_relation-array-of-records.html#cb187-1" aria-hidden="true"></a><span class="dt">Contact</span>.all.order({ <span class="st">:last_name</span> =&gt; <span class="st">:asc</span>, <span class="st">:first_name</span> =&gt; <span class="st">:asc</span>, <span class="st">:date_of_birth</span> =&gt; <span class="st">:desc</span> })</span></code></pre></div>
<ul>
<li><p>Returns an <a href="activerecord_relation-array-of-records.html#activerecord_relation-array-of-records"><code>ActiveRecord_Relation</code></a>.</p></li>
<li><p>The argument to <code>.order</code> is usually a <code>Hash</code>.</p>
<ul>
<li>The keys in the <code>Hash</code> must be <a href="#Interlude:-Symbol"><code>Symbol</code></a>s that match names of columns in the table. These are the columns that will be used for sorting. If there are multiple keys, the order in which they are provided will be used to break ties.</li>
<li>The value associated to each key must be either <code>:asc</code> (for ascending order) or <code>:desc</code> (for descending order).</li>
</ul></li>
<li><p>The argument to <code>.order</code> can also just be one <code>Symbol</code>, a column name.</p></li>
</ul>
<div class="sourceCode" id="cb188"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb188-1"><a href="activerecord_relation-array-of-records.html#cb188-1" aria-hidden="true"></a><span class="dt">Contact</span>.all.order(<span class="st">:last_name</span>)</span></code></pre></div>
<p>In that case, <code>:asc</code> order is assumed.</p>
<p><a href="https://chapters.firstdraft.com/chapters/770#order">Full explanation</a></p>
</div>
<div id="limit" class="section level3 hasAnchor" number="3.1.6">
<h3><span class="header-section-number">B.1.6</span> .limit<a href="activerecord_relation-array-of-records.html#limit" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation#limit(Integer) ⇒ ActiveRecord_Relation</code></p>
<p>Call <code>.limit</code> on an <code>ActiveRecord_Relation</code> to cap the number of records in the array.</p>
<ul>
<li>Returns an <a href="activerecord_relation-array-of-records.html#activerecord_relation-array-of-records"><code>ActiveRecord_Relation</code></a>.</li>
<li>The argument to <code>.limit</code> must be an <code>Integer</code>.</li>
</ul>
<div class="sourceCode" id="cb189"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb189-1"><a href="activerecord_relation-array-of-records.html#cb189-1" aria-hidden="true"></a><span class="dt">Contact</span>.where({ <span class="st">:last_name</span> =&gt; <span class="st">&quot;Mouse&quot;</span> }).limit(<span class="dv">10</span>)</span></code></pre></div>
<p><a href="https://chapters.firstdraft.com/chapters/770#limit">Full explanation</a></p>
</div>
<div id="offset" class="section level3 hasAnchor" number="3.1.7">
<h3><span class="header-section-number">B.1.7</span> .offset<a href="activerecord_relation-array-of-records.html#offset" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation#offset(Integer) ⇒ ActiveRecord_Relation</code></p>
<p>Call <code>.offset</code> on an <code>ActiveRecord_Relation</code> to discard the first few records in the array:</p>
<ul>
<li>Returns an <a href="activerecord_relation-array-of-records.html#activerecord_relation-array-of-records"><code>ActiveRecord_Relation</code></a>.</li>
<li>The argument to <code>.offset</code> must be an <code>Integer</code>.</li>
</ul>
<div class="sourceCode" id="cb190"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb190-1"><a href="activerecord_relation-array-of-records.html#cb190-1" aria-hidden="true"></a><span class="dt">Contact</span>.where({ <span class="st">:last_name</span> =&gt; <span class="st">&quot;Mouse&quot;</span> }).offset(<span class="dv">10</span>).limit(<span class="dv">10</span>)</span></code></pre></div>
<p><a href="https://chapters.firstdraft.com/chapters/770#offset">Full explanation</a></p>
</div>
<div id="map_relation_to_array" class="section level3 hasAnchor" number="3.1.8">
<h3><span class="header-section-number">B.1.8</span> .map_relation_to_array<a href="activerecord_relation-array-of-records.html#map_relation_to_array" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation#map_relation_to_array(Symbol) ⇒ Array</code></p>
<p>Call <code>.map_relation_to_array</code> on an <code>ActiveRecord_Relation</code> to retrieve the values stored in <em>just one column</em> of the records, and discard all other data.</p>
<ul>
<li><p><code>.map_relation_to_array</code> returns a regular Ruby <a href="array.html#array"><code>Array</code></a> of scalar values in the column.</p>
<ul>
<li><em>Not</em> a single value, even if there was only one record in the <code>ActiveRecord_Relation</code>.</li>
<li><em>Not</em> an <code>ActiveRecord_Relation</code>, so you can no longer use methods like <code>.where</code>, <code>.order</code>, etc. You can use <code>Array</code> methods like <code>.sort</code>, <code>.sample</code>, etc.</li>
</ul></li>
<li><p>The argument to <code>.map_relation_to_array</code> must be a <code>Symbol</code> that matches the name of a column in the table.</p></li>
<li><p>You cannot call <code>.map_relation_to_array</code> on an individual ActiveRecord row. If you want the value in a column for an individual row, simply call the accessor method directly:</p></li>
</ul>
<div class="sourceCode" id="cb191"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb191-1"><a href="activerecord_relation-array-of-records.html#cb191-1" aria-hidden="true"></a><span class="dt">Contact</span>.all.map_relation_to_array(<span class="st">:last_name</span>) <span class="co"># =&gt; [&quot;Betina&quot;, &quot;Mouse&quot;, &quot;Woods&quot;]</span></span></code></pre></div>
<div class="sourceCode" id="cb192"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb192-1"><a href="activerecord_relation-array-of-records.html#cb192-1" aria-hidden="true"></a><span class="co"># for an array of records</span></span>
<span id="cb192-2"><a href="activerecord_relation-array-of-records.html#cb192-2" aria-hidden="true"></a>people.last_name <span class="co"># undefined method for array; bad</span></span>
<span id="cb192-3"><a href="activerecord_relation-array-of-records.html#cb192-3" aria-hidden="true"></a>people.map_relation_to_array(<span class="st">:last_name</span>) <span class="co"># =&gt; [&quot;Betina&quot;, &quot;Woods&quot;]; good</span></span></code></pre></div>
<p><a href="https://chapters.firstdraft.com/chapters/770#map_relation_to_array">Full explanation</a></p>
</div>
<div id="maximum" class="section level3 hasAnchor" number="3.1.9">
<h3><span class="header-section-number">B.1.9</span> .maximum<a href="activerecord_relation-array-of-records.html#maximum" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation#maximum(Symbol) ⇒ Object</code></p>
<p>Call <code>.maximum</code> on an <code>ActiveRecord_Relation</code> to grab and return the biggest value of a particular column.</p>
<div class="sourceCode" id="cb193"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb193-1"><a href="activerecord_relation-array-of-records.html#cb193-1" aria-hidden="true"></a><span class="dt">User</span>.all.maximun(<span class="st">:age</span>)</span>
<span id="cb193-2"><a href="activerecord_relation-array-of-records.html#cb193-2" aria-hidden="true"></a><span class="co"># =&gt; 102</span></span></code></pre></div>
<ul>
<li>Returns a value from an <code>ActiveRecord</code> column.</li>
</ul>
<p><a href="https://chapters.firstdraft.com/chapters/770#maximum">Full explanation</a></p>
</div>
<div id="minimum" class="section level3 hasAnchor" number="3.1.10">
<h3><span class="header-section-number">B.1.10</span> .minimum<a href="activerecord_relation-array-of-records.html#minimum" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation#minimum(Symbol) ⇒ Object</code></p>
<p>Call <code>.minimum</code> on an <code>ActiveRecord_Relation</code> to grab and return the smallest value of a particular column.</p>
<div class="sourceCode" id="cb194"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb194-1"><a href="activerecord_relation-array-of-records.html#cb194-1" aria-hidden="true"></a><span class="dt">Photo</span>.all.minimum(<span class="st">:caption</span>) </span>
<span id="cb194-2"><a href="activerecord_relation-array-of-records.html#cb194-2" aria-hidden="true"></a><span class="co"># =&gt; &quot;... a mind needs books as a sword needs a whetstone, if it is to keep its edge.&quot;</span></span></code></pre></div>
<ul>
<li>Returns a value from an <code>ActiveRecord</code> column.</li>
</ul>
<p><a href="https://chapters.firstdraft.com/chapters/770#minimum">Full explanation</a></p>
</div>
<div id="sum-1" class="section level3 hasAnchor" number="3.1.11">
<h3><span class="header-section-number">B.1.11</span> .sum<a href="activerecord_relation-array-of-records.html#sum-1" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation#sum(Symbol) ⇒ Integer</code> or <code>⇒ Float</code> or <code>⇒ String</code></p>
<p>Call <code>.sum</code> on an <code>ActiveRecord_Relation</code> to find the sum of the values in a single column:</p>
<div class="sourceCode" id="cb195"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb195-1"><a href="activerecord_relation-array-of-records.html#cb195-1" aria-hidden="true"></a><span class="ot">@poem</span>.scores.sum(<span class="st">:points</span>)</span></code></pre></div>
<ul>
<li>Returns an <a href="integer.html#integer"><code>Integer</code></a> or <a href="integer.html#integer"><code>Float</code></a> (or even a <a href="string.html#string"><code>String</code></a>), depending on datatype of the column that was summed.</li>
<li>The argument to <code>.sum</code> must be a <code>Symbol</code> that matches the name of a column in the table.</li>
</ul>
<p><a href="https://chapters.firstdraft.com/chapters/770#sum">Full explanation</a></p>
</div>
<div id="average" class="section level3 hasAnchor" number="3.1.12">
<h3><span class="header-section-number">B.1.12</span> .average<a href="activerecord_relation-array-of-records.html#average" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p><code>ActiveRecord_Relation#average(Symbol) ⇒ Integer</code> or <code>⇒ Float</code></p>
<p>Call <code>.average</code> on an <code>ActiveRecord_Relation</code> to find the mean of the values in a single column:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode ruby"><code class="sourceCode ruby"><span id="cb196-1"><a href="activerecord_relation-array-of-records.html#cb196-1" aria-hidden="true"></a><span class="ot">@restaurant</span>.reviews.average(<span class="st">:rating</span>)</span></code></pre></div>
<ul>
<li>Returns an <a href="integer.html#integer"><code>Integer</code></a> or <a href="float.html#float"><code>Float</code></a>, depending on datatype of the column that was averaged.</li>
<li>The argument to <code>.average</code> must be a <code>Symbol</code> that matches the name of a column in the table.</li>
</ul>
<p><a href="https://chapters.firstdraft.com/chapters/770#average">Full explanation</a></p>
</div>
</div>
<!-- https://community.rstudio.com/t/insertion-of-javascript-into-bookdown-project/44176 -->
<!-- https://stackoverflow.com/questions/6822945/add-target-blank-to-link-with-javascript -->
<!-- https://stackoverflow.com/a/6823034 -->

<script>
  var links = document.getElementsByTagName('a');
  var len = links.length;

  for(var i=0; i<len; i++)
  {
    links[i].target = "_blank";
  }
</script>
            </section>

          </div>
        </div>
      </div>
<a href="the-one-ruby-reference.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="activerecord-a-single-record.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": false,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": null
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/firstdraft/appdev-textbook/edit/main/glossaries/the-one-reference.md",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": "https://github.com/firstdraft/appdev-textbook/blob/main/glossaries/the-one-reference.md",
"text": null
},
"download": null,
"search": {
"engine": "lunr",
"options": null
},
"toc": {
"collapse": "section",
"scroll_highlight": true
},
"toolbar": {
"position": "fixed"
},
"info": true
});
});
</script>

</body>

</html>
